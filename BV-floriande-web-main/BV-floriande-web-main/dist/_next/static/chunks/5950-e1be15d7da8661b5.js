"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5745,5950],{285:(e,r,t)=>{t.d(r,{$:()=>c});var n=t(5155),o=t(2115),a=t(9708),i=t(2085),s=t(9434);let l=(0,i.F)("inline-flex items-center justify-center rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary-600 shadow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary-500",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,r)=>{let{className:t,variant:o,size:i,asChild:c=!1,...u}=e,d=c?a.DX:"button";return(0,n.jsx)(d,{className:(0,s.cn)(l({variant:o,size:i,className:t})),ref:r,...u})});c.displayName="Button"},1090:(e,r,t)=>{t.d(r,{AuthProvider:()=>c,A:()=>u});var n=t(5155),o=t(2115),a=t(2881),i=t(5695);async function s(e){let r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;for(let o=1;o<=t;o++)try{return await e()}catch(e){if(r=e,console.warn("Attempt ".concat(o," failed:"),r.message),r.message.includes("Invalid login credentials")||r.message.includes("User not found")||r.message.includes("Invalid email")||r.message.includes("Signup is disabled"))throw r;if((r.message.includes("Failed to fetch")||r.message.includes("Network connection failed")||r.message.includes("timeout")||r.message.includes("Request timeout")||"TypeError"===r.name||"AbortError"===r.name)&&o<t){console.log("Retrying in ".concat(n,"ms... (").concat(o,"/").concat(t,")")),await new Promise(e=>setTimeout(e,n)),n*=1.5;continue}break}throw r}let l=(0,o.createContext)(void 0);function c(e){var r;let{children:t}=e,[c,u]=(0,o.useState)(null),[d,g]=(0,o.useState)(!0),[f,h]=(0,o.useState)(null),[m,p]=(0,o.useState)(!1),v=(0,i.useRouter)();(0,o.useEffect)(()=>{let e=!0;(async()=>{try{let{data:{session:t},error:n}=await a.y.supabase.auth.getSession();if(n)console.error("Error getting session:",n),h("Failed to initialize authentication");else if(e){var r;u(null!=(r=null==t?void 0:t.user)?r:null)}}catch(r){console.error("Error initializing auth:",r),e&&h("Failed to initialize authentication")}finally{e&&(g(!1),p(!0))}})();let{data:{subscription:r}}=a.y.supabase.auth.onAuthStateChange(async(r,t)=>{var n,o;console.log("\uD83D\uDD04 Auth state change:",{event:r,hasUser:!!(null==t?void 0:t.user),userEmail:null==t||null==(n=t.user)?void 0:n.email}),e&&(u(null!=(o=null==t?void 0:t.user)?o:null),g(!1),"SIGNED_IN"===r&&(null==t?void 0:t.user)?(console.log("✅ SIGNED_IN event - checking for redirect"),setTimeout(()=>{"/login"===window.location.pathname?(console.log("\uD83C\uDFE0 No custom redirect detected, going to dashboard"),v.push("/dashboard")):console.log("✅ Custom redirect detected, staying on current page")},300)):"SIGNED_OUT"===r&&(console.log("\uD83D\uDEAA SIGNED_OUT event - redirecting to login"),v.push("/login")))});return()=>{e=!1,r.unsubscribe()}},[v]);let y={user:c,loading:d,login:async(e,r)=>{try{var t;h(null),g(!0),console.log("AuthContext login attempt:",{email:e});try{let e=await fetch("".concat("https://tuqlyoimberycjtdkivm.supabase.co","/rest/v1/"),{method:"HEAD",headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1cWx5b2ltYmVyeWNqdGRraXZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzMjcwNTIsImV4cCI6MjA2NTkwMzA1Mn0.O1zFRbvkHq-1HMAHFXGU8uNVGcEgVCDESYWVbWwQZfI"}});console.log("Connectivity test successful:",e.status)}catch(e){throw console.error("Connectivity test failed:",e),Error("Kan geen verbinding maken met de server. Controleer je internetverbinding.")}let{data:n,error:o}=await s(async()=>await a.y.supabase.auth.signInWithPassword({email:e,password:r}),3,1e3);if(console.log("AuthContext login response:",{hasUser:!!n.user,userEmail:null==(t=n.user)?void 0:t.email,hasSession:!!n.session,errorMessage:null==o?void 0:o.message}),o){if(console.error("Login error details:",{message:o.message,status:o.status,name:o.name}),o.message.includes("Invalid login credentials"))throw Error("Ongeldige inloggegevens. Controleer je e-mailadres en wachtwoord.");if(o.message.includes("Too many requests"))throw Error("Te veel inlogpogingen. Probeer het over een paar minuten opnieuw.");if(o.message.includes("User not found"))throw Error("Geen account gevonden met dit e-mailadres. Registreer eerst een account.");else if(o.message.includes("Invalid email"))throw Error("Ongeldig e-mailadres format.");else if(o.message.includes("Signup is disabled"))throw Error("Registratie is momenteel uitgeschakeld. Neem contact op met de beheerder.");else if(o.message.includes("Failed to fetch")||o.message.includes("Network connection failed"))throw Error("Netwerkverbinding mislukt. Controleer je internetverbinding en probeer opnieuw.");else throw Error("Login fout: ".concat(o.message))}if(!n.user)throw Error("Login failed: No user data received");console.log("✅ Login successful, setting user:",n.user.email),u(n.user),console.log("⏳ Waiting for onAuthStateChange to handle redirect...")}catch(r){let e=r instanceof Error?r.message:"Login failed";throw console.error("AuthContext login error:",e),h(e),g(!1),r}},logout:async()=>{try{h(null);let{error:e}=await a.y.supabase.auth.signOut();if(e)throw e;u(null),v.push("/login")}catch(e){throw h(e instanceof Error?e.message:"Logout failed"),e}},error:f,clearError:()=>{h(null)},isAdmin:!!c&&((null==(r=c.user_metadata)?void 0:r.role)==="admin"||"qdelarambelje@gmail.com"===c.email||"admin@bvfloriande.nl"===c.email)};return(0,n.jsx)(l.Provider,{value:y,children:t})}function u(){let e=(0,o.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1788:(e,r,t)=>{t.d(r,{A:()=>n});let n=(0,t(9946).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},2657:(e,r,t)=>{t.d(r,{A:()=>n});let n=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2881:(e,r,t)=>{t.d(r,{y:()=>o});var n=t(6927);let o={supabase:n.N,async resetPassword(e){let{error:r}=await n.N.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});if(r)throw r;return{success:!0}},async signUp(e,r,t){if(r.length<8)throw Error("Wachtwoord moet minimaal 8 tekens lang zijn");let{data:o,error:a}=await n.N.auth.signUp({email:e,password:r,options:{data:t}});if(a)throw a;return{data:o,error:null}},async signIn(e,r){let{data:t,error:o}=await n.N.auth.signInWithPassword({email:e,password:r});if(o)throw o;return t},async signOut(){let{error:e}=await n.N.auth.signOut();if(e)throw e},async getCurrentUser(){let{data:{user:e},error:r}=await n.N.auth.getUser();if(r)throw r;return e},resendConfirmation:async e=>(console.log("Email confirmation is disabled for development"),{success:!0}),async updatePassword(e){if(e.length<8)throw Error("Wachtwoord moet minimaal 8 tekens lang zijn");let{error:r}=await n.N.auth.updateUser({password:e});if(r)throw r;return{success:!0}}}},6101:(e,r,t)=>{t.d(r,{s:()=>i,t:()=>a});var n=t(2115);function o(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function a(...e){return r=>{let t=!1,n=e.map(e=>{let n=o(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():o(e[r],null)}}}}function i(...e){return n.useCallback(a(...e),e)}},6126:(e,r,t)=>{t.d(r,{E:()=>s});var n=t(5155);t(2115);var o=t(2085),a=t(9434);let i=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:r,variant:t,...o}=e;return(0,n.jsx)("div",{className:(0,a.cn)(i({variant:t}),r),...o})}},6695:(e,r,t)=>{t.d(r,{BT:()=>c,Wu:()=>u,ZB:()=>l,Zp:()=>i,aR:()=>s,wL:()=>d});var n=t(5155),o=t(2115),a=t(9434);let i=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...o})});i.displayName="Card";let s=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...o})});s.displayName="CardHeader";let l=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...o})});l.displayName="CardTitle";let c=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...o})});c.displayName="CardDescription";let u=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...o})});u.displayName="CardContent";let d=o.forwardRef((e,r)=>{let{className:t,...o}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...o})});d.displayName="CardFooter"},6927:(e,r,t)=>{t.d(r,{N:()=>s});var n=t(4982),o=t(9509);console.log("=== SUPABASE CLIENT INITIALIZATION ==="),console.log("All env vars:",Object.keys(o.env).filter(e=>e.startsWith("NEXT_PUBLIC_"))),console.log("NODE_ENV:","production");let a="https://tuqlyoimberycjtdkivm.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1cWx5b2ltYmVyeWNqdGRraXZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzMjcwNTIsImV4cCI6MjA2NTkwMzA1Mn0.O1zFRbvkHq-1HMAHFXGU8uNVGcEgVCDESYWVbWwQZfI";if(console.log("NEXT_PUBLIC_SUPABASE_URL:",a?"SET ("+a.substring(0,20)+"...)":"MISSING"),console.log("NEXT_PUBLIC_SUPABASE_ANON_KEY:",i?"SET ("+i.substring(0,20)+"...)":"MISSING"),!a||!i)throw console.error("Supabase environment variables are missing!"),console.error("Current environment:","production"),console.error("NEXT_PUBLIC_SUPABASE_URL:",a?"Set":"Missing"),console.error("NEXT_PUBLIC_SUPABASE_ANON_KEY:",i?"Set":"Missing"),console.error("Please check your .env.local file to ensure NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are set."),console.error("Make sure to restart your development server after adding environment variables."),Error("Missing required environment variables: NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY. Please set them in your .env.local file and restart the server.");if(a&&!a.startsWith("http"))throw console.error("Invalid Supabase URL format!"),Error("Supabase URL must start with http:// or https://");if(i&&(!i.startsWith("ey")||2!==(i.match(/\./g)||[]).length))throw console.error("Invalid Supabase API key format!"),console.error('API key should be a JWT token (start with "ey" and contain two periods)'),Error("Invalid Supabase API key format. Please check your .env.local file.");{let e=console.log,r=console.warn;console.log=function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];let o=t.join(" ");o.includes("GoTrueClient")||o.includes("#_")||e.apply(console,t)},console.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let o=t.join(" ");o.includes("GoTrueClient")||o.includes("#_")||r.apply(console,t)}}let s=(0,n.UU)(a,i,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,debug:!1},global:{headers:{"X-Client-Info":"bv-floriande-web"},fetch:async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=new AbortController,n=setTimeout(()=>t.abort(),15e3);try{let o=await fetch(e,{...r,signal:t.signal,headers:{"Content-Type":"application/json",...r.headers}});return clearTimeout(n),o}catch(e){if(clearTimeout(n),e instanceof Error&&"AbortError"===e.name)throw Error("Request timeout - please check your internet connection");if(e instanceof TypeError&&e.message.includes("Failed to fetch"))throw Error("Network connection failed. Please check your internet connection and try again.");throw e}}},db:{schema:"public"}})},7434:(e,r,t)=>{t.d(r,{A:()=>n});let n=(0,t(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9434:(e,r,t)=>{t.d(r,{cn:()=>a});var n=t(2596),o=t(9688);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.QP)((0,n.$)(r))}},9708:(e,r,t)=>{t.d(r,{DX:()=>s,TL:()=>i});var n=t(2115),o=t(6101),a=t(5155);function i(e){let r=function(e){let r=n.forwardRef((e,r)=>{let{children:t,...a}=e;if(n.isValidElement(t)){var i;let e,s,l=(i=t,(s=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(s=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),c=function(e,r){let t={...r};for(let n in r){let o=e[n],a=r[n];/^on[A-Z]/.test(n)?o&&a?t[n]=(...e)=>{let r=a(...e);return o(...e),r}:o&&(t[n]=o):"style"===n?t[n]={...o,...a}:"className"===n&&(t[n]=[o,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==n.Fragment&&(c.ref=r?(0,o.t)(r,l):l),n.cloneElement(t,c)}return n.Children.count(t)>1?n.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=n.forwardRef((e,t)=>{let{children:o,...i}=e,s=n.Children.toArray(o),l=s.find(c);if(l){let e=l.props.children,o=s.map(r=>r!==l?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,o):null})}return(0,a.jsx)(r,{...i,ref:t,children:o})});return t.displayName=`${e}.Slot`,t}var s=i("Slot"),l=Symbol("radix.slottable");function c(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===l}}}]);