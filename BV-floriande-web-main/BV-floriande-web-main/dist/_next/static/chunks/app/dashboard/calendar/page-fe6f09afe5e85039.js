(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288,1461],{1090:(e,s,r)=>{"use strict";r.d(s,{AuthProvider:()=>o,A:()=>c});var t=r(5155),a=r(2115),n=r(2881),i=r(5695);async function l(e){let s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;for(let a=1;a<=r;a++)try{return await e()}catch(e){if(s=e,console.warn("Attempt ".concat(a," failed:"),s.message),s.message.includes("Invalid login credentials")||s.message.includes("User not found")||s.message.includes("Invalid email")||s.message.includes("Signup is disabled"))throw s;if((s.message.includes("Failed to fetch")||s.message.includes("Network connection failed")||s.message.includes("timeout")||s.message.includes("Request timeout")||"TypeError"===s.name||"AbortError"===s.name)&&a<r){console.log("Retrying in ".concat(t,"ms... (").concat(a,"/").concat(r,")")),await new Promise(e=>setTimeout(e,t)),t*=1.5;continue}break}throw s}let d=(0,a.createContext)(void 0);function o(e){var s;let{children:r}=e,[o,c]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),[h,g]=(0,a.useState)(null),[x,p]=(0,a.useState)(!1),f=(0,i.useRouter)();(0,a.useEffect)(()=>{let e=!0;(async()=>{try{let{data:{session:r},error:t}=await n.y.supabase.auth.getSession();if(t)console.error("Error getting session:",t),g("Failed to initialize authentication");else if(e){var s;c(null!=(s=null==r?void 0:r.user)?s:null)}}catch(s){console.error("Error initializing auth:",s),e&&g("Failed to initialize authentication")}finally{e&&(m(!1),p(!0))}})();let{data:{subscription:s}}=n.y.supabase.auth.onAuthStateChange(async(s,r)=>{var t,a;console.log("\uD83D\uDD04 Auth state change:",{event:s,hasUser:!!(null==r?void 0:r.user),userEmail:null==r||null==(t=r.user)?void 0:t.email}),e&&(c(null!=(a=null==r?void 0:r.user)?a:null),m(!1),"SIGNED_IN"===s&&(null==r?void 0:r.user)?(console.log("✅ SIGNED_IN event - checking for redirect"),setTimeout(()=>{"/login"===window.location.pathname?(console.log("\uD83C\uDFE0 No custom redirect detected, going to dashboard"),f.push("/dashboard")):console.log("✅ Custom redirect detected, staying on current page")},300)):"SIGNED_OUT"===s&&(console.log("\uD83D\uDEAA SIGNED_OUT event - redirecting to login"),f.push("/login")))});return()=>{e=!1,s.unsubscribe()}},[f]);let j={user:o,loading:u,login:async(e,s)=>{try{var r;g(null),m(!0),console.log("AuthContext login attempt:",{email:e});try{let e=await fetch("".concat("https://tuqlyoimberycjtdkivm.supabase.co","/rest/v1/"),{method:"HEAD",headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR1cWx5b2ltYmVyeWNqdGRraXZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzMjcwNTIsImV4cCI6MjA2NTkwMzA1Mn0.O1zFRbvkHq-1HMAHFXGU8uNVGcEgVCDESYWVbWwQZfI"}});console.log("Connectivity test successful:",e.status)}catch(e){throw console.error("Connectivity test failed:",e),Error("Kan geen verbinding maken met de server. Controleer je internetverbinding.")}let{data:t,error:a}=await l(async()=>await n.y.supabase.auth.signInWithPassword({email:e,password:s}),3,1e3);if(console.log("AuthContext login response:",{hasUser:!!t.user,userEmail:null==(r=t.user)?void 0:r.email,hasSession:!!t.session,errorMessage:null==a?void 0:a.message}),a){if(console.error("Login error details:",{message:a.message,status:a.status,name:a.name}),a.message.includes("Invalid login credentials"))throw Error("Ongeldige inloggegevens. Controleer je e-mailadres en wachtwoord.");if(a.message.includes("Too many requests"))throw Error("Te veel inlogpogingen. Probeer het over een paar minuten opnieuw.");if(a.message.includes("User not found"))throw Error("Geen account gevonden met dit e-mailadres. Registreer eerst een account.");else if(a.message.includes("Invalid email"))throw Error("Ongeldig e-mailadres format.");else if(a.message.includes("Signup is disabled"))throw Error("Registratie is momenteel uitgeschakeld. Neem contact op met de beheerder.");else if(a.message.includes("Failed to fetch")||a.message.includes("Network connection failed"))throw Error("Netwerkverbinding mislukt. Controleer je internetverbinding en probeer opnieuw.");else throw Error("Login fout: ".concat(a.message))}if(!t.user)throw Error("Login failed: No user data received");console.log("✅ Login successful, setting user:",t.user.email),c(t.user),console.log("⏳ Waiting for onAuthStateChange to handle redirect...")}catch(s){let e=s instanceof Error?s.message:"Login failed";throw console.error("AuthContext login error:",e),g(e),m(!1),s}},logout:async()=>{try{g(null);let{error:e}=await n.y.supabase.auth.signOut();if(e)throw e;c(null),f.push("/login")}catch(e){throw g(e instanceof Error?e.message:"Logout failed"),e}},error:h,clearError:()=>{g(null)},isAdmin:!!o&&((null==(s=o.user_metadata)?void 0:s.role)==="admin"||"qdelarambelje@gmail.com"===o.email||"admin@bvfloriande.nl"===o.email)};return(0,t.jsx)(d.Provider,{value:j,children:r})}function c(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2038:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>W});var t=r(5155),a=r(2115),n=r(3231),i=r(2944),l=r(4423),d=r(2794),o=r(1455),c=r(542),u=r(3898),m=r(714),h=r(8882),g=r(7223),x=r(6685),p=r(7550),f=r(9103),j=r(2355),v=r(3052),y=r(4186),b=r(7580),w=r(4516),N=r(4416),_=r(9074),k=r(6874),C=r.n(k),A=r(1090),T=r(6117),E=r(285),S=r(6695),R=r(6126),I=r(2523),D=r(5057),P=r(8539),M=r(9409),F=r(6981),G=r(5196),J=r(9434);let z=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(F.bL,{ref:s,className:(0,J.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...a,children:(0,t.jsx)(F.C1,{className:(0,J.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(G.A,{className:"h-4 w-4"})})})});z.displayName=F.bL.displayName;var U=r(5495);function W(){let{user:e}=(0,A.A)(),[s,r]=(0,a.useState)(new Date),[k,F]=(0,a.useState)(null),[G,J]=(0,a.useState)([]),[W,L]=(0,a.useState)([]),[O,H]=(0,a.useState)([]),[V,Z]=(0,a.useState)([]),[q,B]=(0,a.useState)(!1),[$,X]=(0,a.useState)(!1),[Y,Q]=(0,a.useState)(null),[K,ee]=(0,a.useState)(!0),[es,er]=(0,a.useState)({title:"",description:"",group_id:"",start_time:"",end_time:"",location_id:"",recurrence_type:"none",recurrence_end_date:"",selectedTrainers:[]});(0,a.useEffect)(()=>{et()},[]);let et=async()=>{try{ee(!0);let[e,s,r,t]=await Promise.all([U.mB.getSessionsWithDetails(),U.H6.getAllGroups(),U.Ny.getAllLocations(),U.Dv.getAllTrainers()]);J(e),L(s),H(r),Z(t)}catch(e){console.error("Error loading data:",e)}finally{ee(!1)}},ea=(0,n.w)(s),en=(0,i.p)(ea),ei=(0,l.k)(ea,{locale:x.nl});(0,d.$)(en,{locale:x.nl});let el=[],ed=[],eo=ei;for(let e=0;e<42;e++){let e=(0,o.GP)(eo,"d"),s=eo,r=G.filter(e=>(0,o.GP)(new Date(e.start_time||e.date),"yyyy-MM-dd")===(0,o.GP)(eo,"yyyy-MM-dd"));ed.push((0,t.jsxs)("div",{className:"p-2 border border-gray-200 min-h-[120px] cursor-pointer hover:bg-gray-50 ".concat(!(0,c.t)(eo,ea)?"text-gray-400 bg-gray-50":""," ").concat((0,u.r)(eo,new Date)?"bg-blue-50":""),onClick:()=>F(s),children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e}),(0,t.jsxs)("div",{className:"mt-1 space-y-1",children:[r.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"text-xs p-1 rounded text-white cursor-pointer ".concat(e.recurrence_type&&"none"!==e.recurrence_type?"bg-green-500 hover:bg-green-600":"bg-blue-500 hover:bg-blue-600"),onClick:s=>{s.stopPropagation(),Q(e),X(!0)},children:[(0,t.jsxs)("div",{className:"font-medium",children:[e.start_time?(0,o.GP)(new Date(e.start_time),"HH:mm"):"Tijd onbekend",e.recurrence_type&&"none"!==e.recurrence_type&&(0,t.jsx)("span",{className:"ml-1",children:"\uD83D\uDD04"})]}),(0,t.jsx)("div",{className:"truncate",children:e.title}),e.session_trainers&&e.session_trainers.length>0&&(0,t.jsx)("div",{className:"text-xs opacity-80",children:e.session_trainers.map(e=>e.users.name).join(", ")})]},e.id)),r.length>3&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["+",r.length-3," meer"]})]})]},eo.toString())),eo=(0,m.f)(eo,1),7===ed.length&&(el.push((0,t.jsx)("div",{className:"grid grid-cols-7",children:ed},eo.toString())),ed=[])}let ec=async()=>{if(!es.title||!es.group_id||!es.start_time)return void alert("Vul alle verplichte velden in");if("none"!==es.recurrence_type&&!es.recurrence_end_date)return void alert("Bij herhalende sessies moet een einddatum worden ingevuld");try{await U.mB.createSessionWithTrainers({title:es.title,description:es.description,group_id:es.group_id,start_time:es.start_time,end_time:es.end_time||es.start_time,location_id:es.location_id||void 0,recurrence_type:es.recurrence_type,recurrence_end_date:"none"!==es.recurrence_type?es.recurrence_end_date:void 0,created_by:(null==e?void 0:e.id)||""},es.selectedTrainers),await et(),B(!1),er({title:"",description:"",group_id:"",start_time:"",end_time:"",location_id:"",recurrence_type:"none",recurrence_end_date:"",selectedTrainers:[]})}catch(e){console.error("Error creating session:",e),alert("Fout bij het aanmaken van de sessie")}},eu=e=>{er(s=>({...s,selectedTrainers:s.selectedTrainers.includes(e)?s.selectedTrainers.filter(s=>s!==e):[...s.selectedTrainers,e]}))};return(0,t.jsx)(T.A,{children:(0,t.jsxs)("div",{className:"container mx-auto p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(C(),{href:"/dashboard/trainer-dashboard",children:(0,t.jsxs)(E.$,{variant:"ghost",size:"sm",className:"hover:bg-primary/5",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Terug naar Dashboard"]})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-primary",children:"Trainingsagenda"})]}),(0,t.jsxs)(E.$,{onClick:()=>B(!0),className:"bg-primary hover:bg-primary-600 text-white",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Nieuwe Sessie"]})]}),(0,t.jsxs)(S.Zp,{className:"mb-6",children:[(0,t.jsx)(S.aR,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(E.$,{variant:"outline",onClick:()=>r((0,g.a)(s,1)),children:(0,t.jsx)(j.A,{className:"h-4 w-4"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold",children:(0,o.GP)(s,"MMMM yyyy",{locale:x.nl})}),(0,t.jsx)(E.$,{variant:"outline",onClick:()=>r((0,h.P)(s,1)),children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(S.Wu,{children:[(0,t.jsx)("div",{className:"grid grid-cols-7 gap-0 mb-2",children:["Ma","Di","Wo","Do","Vr","Za","Zo"].map(e=>(0,t.jsx)("div",{className:"p-2 text-center font-medium text-gray-500 bg-gray-100",children:e},e))}),(0,t.jsx)("div",{className:"border border-gray-200",children:el})]})]}),(0,t.jsxs)(S.Zp,{children:[(0,t.jsxs)(S.aR,{children:[(0,t.jsx)(S.ZB,{children:"Aankomende Trainingen"}),(0,t.jsx)(S.BT,{children:"Overzicht van geplande trainingen en activiteiten"})]}),(0,t.jsx)(S.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:G.filter(e=>new Date(e.start_time||e.date)>=new Date).sort((e,s)=>new Date(e.start_time||e.date).getTime()-new Date(s.start_time||s.date).getTime()).slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.recurrence_type&&"none"!==e.recurrence_type?"bg-green-500":"bg-blue-500")}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-medium",children:[e.title,e.recurrence_type&&"none"!==e.recurrence_type&&(0,t.jsx)("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Herhalend"})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"h-3 w-3"}),e.start_time?(0,o.GP)(new Date(e.start_time),"dd MMM yyyy - HH:mm",{locale:x.nl}):"Tijd onbekend"]}),e.groups&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-3 w-3"}),e.groups.name]}),e.locations&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-3 w-3"}),e.locations.name]}),e.session_trainers&&e.session_trainers.length>0&&(0,t.jsxs)("div",{className:"text-xs text-blue-600",children:["Trainers: ",e.session_trainers.map(e=>e.users.name).join(", ")]})]})]})]}),(0,t.jsx)(R.E,{variant:"outline",children:"Training"})]},e.id))})})]}),q&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Nieuwe Trainingssessie"}),(0,t.jsx)(E.$,{variant:"ghost",size:"sm",onClick:()=>B(!1),children:(0,t.jsx)(N.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{htmlFor:"session-title",children:"Titel *"}),(0,t.jsx)(I.p,{id:"session-title",value:es.title,onChange:e=>er({...es,title:e.target.value}),placeholder:"Bijvoorbeeld: Cardio Training"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{htmlFor:"session-group",children:"Groep *"}),(0,t.jsxs)(M.l6,{value:es.group_id,onValueChange:e=>er({...es,group_id:e}),children:[(0,t.jsx)(M.bq,{children:(0,t.jsx)(M.yv,{placeholder:"Selecteer een groep"})}),(0,t.jsx)(M.gC,{children:W.map(e=>(0,t.jsx)(M.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{htmlFor:"session-start",children:"Start tijd *"}),(0,t.jsx)(I.p,{id:"session-start",type:"datetime-local",value:es.start_time,onChange:e=>er({...es,start_time:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{htmlFor:"session-end",children:"Eind tijd"}),(0,t.jsx)(I.p,{id:"session-end",type:"datetime-local",value:es.end_time,onChange:e=>er({...es,end_time:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{htmlFor:"session-location",children:"Locatie"}),(0,t.jsxs)(M.l6,{value:es.location_id,onValueChange:e=>er({...es,location_id:e}),children:[(0,t.jsx)(M.bq,{children:(0,t.jsx)(M.yv,{placeholder:"Selecteer een locatie"})}),(0,t.jsx)(M.gC,{children:O.map(e=>(0,t.jsx)(M.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{children:"Trainers"}),(0,t.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded p-2",children:V.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z,{id:"trainer-".concat(e.id),checked:es.selectedTrainers.includes(e.id),onCheckedChange:()=>eu(e.id)}),(0,t.jsx)(D.J,{htmlFor:"trainer-".concat(e.id),className:"text-sm",children:e.name})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{htmlFor:"session-description",children:"Beschrijving"}),(0,t.jsx)(P.T,{id:"session-description",value:es.description,onChange:e=>er({...es,description:e.target.value}),placeholder:"Beschrijving van de training..."})]}),"                ",(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{children:"Herhaling"}),(0,t.jsxs)(M.l6,{value:es.recurrence_type,onValueChange:e=>er({...es,recurrence_type:e}),children:[(0,t.jsx)(M.bq,{children:(0,t.jsx)(M.yv,{placeholder:"Geen herhaling"})}),(0,t.jsxs)(M.gC,{children:[(0,t.jsx)(M.eb,{value:"none",children:"Geen herhaling"}),(0,t.jsx)(M.eb,{value:"daily",children:"Dagelijks"}),(0,t.jsx)(M.eb,{value:"weekly",children:"Wekelijks"}),(0,t.jsx)(M.eb,{value:"biweekly",children:"Om de week"}),(0,t.jsx)(M.eb,{value:"monthly",children:"Maandelijks"})]})]})]}),"none"!==es.recurrence_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(D.J,{children:"Herhaling eindigt op"}),(0,t.jsx)(I.p,{type:"date",value:es.recurrence_end_date,onChange:e=>er({...es,recurrence_end_date:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(E.$,{onClick:ec,className:"flex-1",children:"Sessie Aanmaken"}),(0,t.jsx)(E.$,{variant:"outline",onClick:()=>B(!1),className:"flex-1",children:"Annuleren"})]})]})]})}),$&&Y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Sessie Details"}),(0,t.jsx)(E.$,{variant:"ghost",size:"sm",onClick:()=>X(!1),children:(0,t.jsx)(N.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:Y.title}),Y.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:Y.description})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:Y.start_time?(0,o.GP)(new Date(Y.start_time),"dd MMM yyyy - HH:mm",{locale:x.nl}):"Tijd onbekend"})]}),Y.groups&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:Y.groups.name})]}),Y.locations&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:Y.locations.name})]}),Y.recurrence_type&&"none"!==Y.recurrence_type&&(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-green-50 p-1 rounded",children:[(0,t.jsx)(_.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("span",{className:"text-green-700",children:["daily"===Y.recurrence_type&&"Dagelijks","weekly"===Y.recurrence_type&&"Wekelijks","biweekly"===Y.recurrence_type&&"Om de week","monthly"===Y.recurrence_type&&"Maandelijks",Y.recurrence_end_date&&" tot ".concat((0,o.GP)(new Date(Y.recurrence_end_date),"dd MMM yyyy",{locale:x.nl}))]})]})]}),Y.session_trainers&&Y.session_trainers.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium mb-2",children:"Trainers:"}),(0,t.jsx)("div",{className:"space-y-1",children:Y.session_trainers.map((e,s)=>(0,t.jsx)("div",{className:"text-sm bg-blue-50 px-2 py-1 rounded",children:e.users.name},s))})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)(E.$,{onClick:()=>X(!1),className:"w-full",children:"Sluiten"})})]})]})})]})})}},2523:(e,s,r)=>{"use strict";r.d(s,{p:()=>i});var t=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,s)=>{let{className:r,type:a,...i}=e;return(0,t.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...i})});i.displayName="Input"},2881:(e,s,r)=>{"use strict";r.d(s,{y:()=>a});var t=r(6927);let a={supabase:t.N,async resetPassword(e){let{error:s}=await t.N.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/reset-password")});if(s)throw s;return{success:!0}},async signUp(e,s,r){if(s.length<8)throw Error("Wachtwoord moet minimaal 8 tekens lang zijn");let{data:a,error:n}=await t.N.auth.signUp({email:e,password:s,options:{data:r}});if(n)throw n;return{data:a,error:null}},async signIn(e,s){let{data:r,error:a}=await t.N.auth.signInWithPassword({email:e,password:s});if(a)throw a;return r},async signOut(){let{error:e}=await t.N.auth.signOut();if(e)throw e},async getCurrentUser(){let{data:{user:e},error:s}=await t.N.auth.getUser();if(s)throw s;return e},resendConfirmation:async e=>(console.log("Email confirmation is disabled for development"),{success:!0}),async updatePassword(e){if(e.length<8)throw Error("Wachtwoord moet minimaal 8 tekens lang zijn");let{error:s}=await t.N.auth.updateUser({password:e});if(s)throw s;return{success:!0}}}},5057:(e,s,r)=>{"use strict";r.d(s,{J:()=>i});var t=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("label",{ref:s,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...a})});i.displayName="Label"},6117:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});var t=r(5155),a=r(2115),n=r(5695),i=r(1090);function l(e){let{children:s,requiredRole:r,redirectTo:l="/login"}=e,{user:d,loading:o}=(0,i.A)(),c=(0,n.useRouter)();return((0,a.useEffect)(()=>{if(console.log("\uD83D\uDEE1️ ProtectedRoute check:",{user:!!d,loading:o,userEmail:null==d?void 0:d.email}),!o)if(d)console.log("✅ User authenticated in ProtectedRoute:",d.email);else{console.log("\uD83D\uDEAB No user found in ProtectedRoute, redirecting to:",l),setTimeout(()=>{c.replace(l)},100);return}},[d,o,c,r,l]),o)?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Authenticatie controleren..."})]})})}):d?(0,t.jsx)(t.Fragment,{children:s}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Doorsturen naar login..."})]})})})}},6126:(e,s,r)=>{"use strict";r.d(s,{E:()=>l});var t=r(5155);r(2115);var a=r(2085),n=r(9434);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:r,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)(i({variant:r}),s),...a})}},6130:(e,s,r)=>{Promise.resolve().then(r.bind(r,2038))},6695:(e,s,r)=>{"use strict";r.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>u});var t=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},8539:(e,s,r)=>{"use strict";r.d(s,{T:()=>i});var t=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...a})});i.displayName="Textarea"},9409:(e,s,r)=>{"use strict";r.d(s,{bq:()=>m,eb:()=>p,gC:()=>x,l6:()=>c,yv:()=>u});var t=r(5155),a=r(2115),n=r(8715),i=r(6474),l=r(7863),d=r(5196),o=r(9434);let c=n.bL;n.YJ;let u=n.WT,m=a.forwardRef((e,s)=>{let{className:r,children:a,...l}=e;return(0,t.jsxs)(n.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[a,(0,t.jsx)(n.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.l9.displayName;let h=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=n.PP.displayName;let g=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});g.displayName=n.wn.displayName;let x=a.forwardRef((e,s)=>{let{className:r,children:a,position:i="popper",...l}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsxs)(n.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...l,children:[(0,t.jsx)(h,{}),(0,t.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(g,{})]})})});x.displayName=n.UC.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=n.JU.displayName;let p=a.forwardRef((e,s)=>{let{className:r,children:a,...i}=e;return(0,t.jsxs)(n.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(n.p4,{children:a})]})});p.displayName=n.q7.displayName,a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=n.wv.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[1778,4982,9037,3439,3942,5900,322,3120,360,8441,1684,7358],()=>s(6130)),_N_E=e.O()}]);