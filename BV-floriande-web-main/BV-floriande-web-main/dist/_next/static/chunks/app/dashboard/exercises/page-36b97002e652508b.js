(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6365],{1227:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var l=r(5155),a=r(2115),t=r(6874),n=r.n(t),i=r(5495),d=r(1090),c=r(285),o=r(2523),m=r(8539),x=r(9409),u=r(7550),h=r(4616),g=r(4416),b=r(2525),p=r(3568),j=r(6927);function v(){let{user:e}=(0,d.A)(),[s,r]=(0,a.useState)([]),[t,v]=(0,a.useState)([]),[f,N]=(0,a.useState)([]),[y,w]=(0,a.useState)(null),[S,k]=(0,a.useState)(null),[C,A]=(0,a.useState)([]),[E,O]=(0,a.useState)([]),[_,F]=(0,a.useState)(!0),[P,B]=(0,a.useState)(null),[D,z]=(0,a.useState)(!1),[G,R]=(0,a.useState)(null),[V,q]=(0,a.useState)(3),[T,I]=(0,a.useState)(10),[M,$]=(0,a.useState)(15),[Q,W]=(0,a.useState)(""),[L,H]=(0,a.useState)(""),[K,U]=(0,a.useState)(""),[J,X]=(0,a.useState)(""),[Y,Z]=(0,a.useState)(1),[ee,es]=(0,a.useState)(""),[er,el]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{F(!0);let[e,s]=await Promise.all([i.H6.getAllGroups(),i.QW.getAllExercises()]);v(e),r(s),O(s)}catch(e){console.error("Error loading initial data:",e),B("Er is een fout opgetreden bij het laden van de gegevens.")}finally{F(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{if(y)try{F(!0);let e=await i.mB.getSessionsByGroup(y.id);N(e),k(null)}catch(e){console.error("Error loading group sessions:",e),B("Er is een fout opgetreden bij het laden van de trainingsessies.")}finally{F(!1)}})()},[y]);let ea=async e=>{if(e.preventDefault(),!y||!S||!G)return void B("Selecteer een groep, sessie en oefening.");try{F(!0),B(null);let e=await i.QW.completeExercise({session_id:S.id,exercise_id:G,sets:V,reps:T,duration_minutes:M,notes:Q});A(s=>[...s,e]),O(e=>e.filter(e=>e.id!==G)),R(null),q(3),I(10),$(15),W("")}catch(e){console.error("Error completing exercise:",e),B("Er is een fout opgetreden bij het registreren van de oefening.")}finally{F(!1)}},et=async e=>{if(e.preventDefault(),!L||!J||!ee)return void B("Vul alle verplichte velden in.");try{F(!0);let e=await i.QW.createExercise({name:L,description:K,category:J,difficulty_level:Y,instructions:ee});r([...s,e]),O([...E,e]),H(""),U(""),X(""),Z(1),es(""),z(!1)}catch(e){console.error("Error creating exercise:",e),B("Er is een fout opgetreden bij het aanmaken van de oefening.")}finally{F(!1)}},en=async e=>{try{let{error:s}=await j.N.from("exercises").delete().eq("id",e);if(s)throw s;p.oR.success("Oefening succesvol verwijderd");let l=await i.QW.getAllExercises();r(l),O(l)}catch(e){console.error("Error deleting exercise:",e),p.oR.error("Fout bij verwijderen van oefening")}};return(0,l.jsxs)("div",{className:"container mx-auto p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(n(),{href:"/dashboard/trainer-dashboard",children:(0,l.jsxs)(c.$,{variant:"ghost",size:"sm",className:"hover:bg-primary/5",children:[(0,l.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Terug naar Dashboard"]})}),(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Oefeningen Bijhouden"})]}),(0,l.jsxs)(c.$,{onClick:()=>z(!0),className:"bg-primary hover:bg-primary-600 text-white",children:[(0,l.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Nieuwe Oefening"]})]}),P&&(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:P}),D&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Nieuwe Oefening Aanmaken"}),(0,l.jsx)("button",{onClick:()=>z(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(g.A,{className:"h-5 w-5"})})]}),(0,l.jsxs)("form",{onSubmit:et,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"exercise-name",className:"block text-sm font-medium mb-1",children:"Naam *"}),(0,l.jsx)(o.p,{id:"exercise-name",value:L,onChange:e=>H(e.target.value),placeholder:"Bijvoorbeeld: Lay-up drill",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"exercise-category",className:"block text-sm font-medium mb-1",children:"Categorie *"}),(0,l.jsxs)(x.l6,{value:J,onValueChange:X,children:[(0,l.jsx)(x.bq,{children:(0,l.jsx)(x.yv,{placeholder:"Selecteer een categorie"})}),(0,l.jsx)(x.gC,{children:[{value:"dribbling",label:"Dribbelen"},{value:"shooting",label:"Schieten"},{value:"passing",label:"Passen"},{value:"defense",label:"Verdediging"},{value:"conditioning",label:"Conditie"},{value:"teamwork",label:"Teamwork"},{value:"fundamentals",label:"Basis vaardigheden"}].map(e=>(0,l.jsx)(x.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"exercise-difficulty",className:"block text-sm font-medium mb-1",children:"Moeilijkheidsgraad"}),(0,l.jsxs)(x.l6,{value:Y.toString(),onValueChange:e=>Z(parseInt(e)),children:[(0,l.jsx)(x.bq,{children:(0,l.jsx)(x.yv,{})}),(0,l.jsx)(x.gC,{children:[{value:1,label:"Beginner"},{value:2,label:"Gemiddeld"},{value:3,label:"Gevorderd"},{value:4,label:"Expert"},{value:5,label:"Professioneel"}].map(e=>(0,l.jsx)(x.eb,{value:e.value.toString(),children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"exercise-description",className:"block text-sm font-medium mb-1",children:"Beschrijving"}),(0,l.jsx)(m.T,{id:"exercise-description",value:K,onChange:e=>U(e.target.value),placeholder:"Korte beschrijving van de oefening...",rows:3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"exercise-instructions",className:"block text-sm font-medium mb-1",children:"Instructies *"}),(0,l.jsx)(m.T,{id:"exercise-instructions",value:ee,onChange:e=>es(e.target.value),placeholder:"Stap-voor-stap instructies voor de oefening...",rows:4,required:!0})]}),(0,l.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,l.jsx)(c.$,{type:"submit",disabled:_,className:"flex-1",children:_?"Aanmaken...":"Oefening Aanmaken"}),(0,l.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>z(!1),className:"flex-1",children:"Annuleren"})]})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"1. Selecteer een groep"}),(0,l.jsxs)("div",{className:"space-y-2",children:[t.map(e=>(0,l.jsxs)("div",{onClick:()=>w(e),className:"p-3 border rounded cursor-pointer ".concat((null==y?void 0:y.id)===e.id?"bg-blue-100 border-blue-500":""),children:[(0,l.jsx)("div",{className:"font-medium",children:e.name}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:e.description})]},e.id)),0===t.length&&!_&&(0,l.jsx)("p",{className:"text-gray-500",children:"Geen groepen gevonden."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"2. Selecteer een trainingsessie"}),y?(0,l.jsxs)("div",{className:"space-y-2",children:[f.map(e=>(0,l.jsxs)("div",{onClick:()=>k(e),className:"p-3 border rounded cursor-pointer ".concat((null==S?void 0:S.id)===e.id?"bg-blue-100 border-blue-500":""),children:[(0,l.jsx)("div",{className:"font-medium",children:e.title||"Sessie ".concat(e.id.substring(0,8))}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()})]},e.id)),0===f.length&&!_&&(0,l.jsx)("p",{className:"text-gray-500",children:"Geen trainingsessies gevonden voor deze groep."})]}):(0,l.jsx)("p",{className:"text-gray-500",children:"Selecteer eerst een groep."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"3. Registreer een oefening"}),y&&S?(0,l.jsxs)("form",{onSubmit:ea,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"exercise-select",className:"block text-sm font-medium mb-1",children:"Oefening"}),(0,l.jsxs)("select",{id:"exercise-select",value:G||"",onChange:e=>R(e.target.value),className:"w-full p-2 border rounded","aria-label":"Selecteer een oefening om te registreren",required:!0,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Selecteer een oefening"}),E.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"sets-range",className:"block text-sm font-medium mb-1",children:["Sets: ",V]}),(0,l.jsx)("input",{id:"sets-range",type:"range",min:"1",max:"10",value:V,onChange:e=>q(parseInt(e.target.value)),className:"w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"reps-range",className:"block text-sm font-medium mb-1",children:["Reps: ",T]}),(0,l.jsx)("input",{id:"reps-range",type:"range",min:"5",max:"30",step:"5",value:T,onChange:e=>I(parseInt(e.target.value)),className:"w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{htmlFor:"duration-range",className:"block text-sm font-medium mb-1",children:["Duur (minuten): ",M]}),(0,l.jsx)("input",{id:"duration-range",type:"range",min:"5",max:"60",step:"5",value:M,onChange:e=>$(parseInt(e.target.value)),className:"w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"comments-textarea",className:"block text-sm font-medium mb-1",children:"Opmerkingen"}),(0,l.jsx)("textarea",{id:"comments-textarea",value:Q,onChange:e=>W(e.target.value),className:"w-full p-2 border rounded",rows:3,placeholder:"Voeg opmerkingen toe over de oefening..."})]}),(0,l.jsx)("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 disabled:opacity-50",disabled:_||!G,children:_?"Bezig...":"Oefening registreren"})]}):(0,l.jsx)("p",{className:"text-gray-500",children:"Selecteer eerst een groep en een trainingsessie."})]})]}),y&&S&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Uitgevoerde oefeningen voor deze sessie"}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full bg-white border",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"py-2 px-4 border text-left",children:"Oefening"}),(0,l.jsx)("th",{className:"py-2 px-4 border text-left",children:"Sets"}),(0,l.jsx)("th",{className:"py-2 px-4 border text-left",children:"Reps"}),(0,l.jsx)("th",{className:"py-2 px-4 border text-left",children:"Duur (min)"}),(0,l.jsx)("th",{className:"py-2 px-4 border text-left",children:"Opmerkingen"}),(0,l.jsx)("th",{className:"py-2 px-4 border text-left",children:"Tijd"}),(0,l.jsx)("th",{className:"py-2 px-4 border text-left",children:"Acties"})]})}),(0,l.jsxs)("tbody",{children:[C.map(e=>{let r=s.find(s=>s.id===e.exercise_id);return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-2 px-4 border",children:(null==r?void 0:r.name)||"Onbekende oefening"}),(0,l.jsx)("td",{className:"py-2 px-4 border",children:e.sets||"-"}),(0,l.jsx)("td",{className:"py-2 px-4 border",children:e.reps||"-"}),(0,l.jsx)("td",{className:"py-2 px-4 border",children:e.duration_minutes||"-"}),(0,l.jsx)("td",{className:"py-2 px-4 border",children:e.notes||"Geen opmerkingen"}),(0,l.jsx)("td",{className:"py-2 px-4 border",children:new Date(e.completed_at).toLocaleTimeString()}),(0,l.jsx)("td",{className:"py-2 px-4 border",children:r&&(0,l.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>en(r.id),className:"h-6 w-6 p-0","aria-label":"Verwijder oefening ".concat(r.name),title:"Verwijder oefening ".concat(r.name),children:(0,l.jsx)(b.A,{className:"h-3 w-3"})})})]},e.id)}),0===C.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:7,className:"py-4 px-4 border text-center text-gray-500",children:"Geen uitgevoerde oefeningen voor deze sessie."})})]})]})})]}),er&&(0,l.jsx)("div",{children:(0,l.jsxs)("h3",{children:["Bewerken: ",er.name]})})]})}},2409:(e,s,r)=>{Promise.resolve().then(r.bind(r,1227))},4416:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});let l=(0,r(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4616:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});let l=(0,r(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5695:(e,s,r)=>{"use strict";var l=r(8999);r.o(l,"usePathname")&&r.d(s,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(s,{useRouter:function(){return l.useRouter}}),r.o(l,"useSearchParams")&&r.d(s,{useSearchParams:function(){return l.useSearchParams}})},7550:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});let l=(0,r(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[1778,4982,9037,3942,5900,322,9852,360,1461,8441,1684,7358],()=>s(2409)),_N_E=e.O()}]);